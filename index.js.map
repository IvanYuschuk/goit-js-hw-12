{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n\nimport axios from 'axios';\n\n\n\n\n\nexport async function getImagesByQuery(query, page) {\n    \n    const baseURL = \"https://pixabay.com/api/\";\n    console.log(baseURL);\n    const response = await axios.get(baseURL, {\n        params: {\n            key: \"53364117-23ce706026567dc1d7b8b2eb2\",\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n            per_page: 15,\n            page: page\n        },\n    });\n    return response.data;\n}\n\n\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet galleryLightbox;\n\nexport function createGallery(images) {\n    const ulElem = document.querySelector(\"ul.gallery\");\n    const markup = images.map((image) => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${image.webformatURL}\"\n                    data-source=\"${image.largeImageURL}\"\n                    alt=\"${image.tags}\"\n                />\n            </a>\n            <ul class=\"image-info\">\n                <li class=\"image-info-item\">\n                    <p class=\"info-p\">Likes</p>\n                    <span class=\"info-span\">${image.likes}</span>\n                </li>\n                <li class=\"image-info-item\">\n                    <p class=\"info-p\">Views</p>\n                    <span class=\"info-span\">${image.views}</span>\n                </li>\n                <li class=\"image-info-item\">\n                    <p class=\"info-p\">Comments</p>\n                    <span class=\"info-span\">${image.comments}</span>\n                </li>\n                <li class=\"image-info-item\">\n                    <p class=\"info-p\">Downloads</p>\n                    <span class=\"info-span\">${image.downloads}</span>\n                </li>\n            </ul>\n        </li>`\n    ).join(''); \n    ulElem.insertAdjacentHTML('beforeend', markup);\n\n    if (!galleryLightbox) {\n        galleryLightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt', \n            captionDelay: 250,  \n        });\n    } else {\n        galleryLightbox.refresh();\n    }\n}\n\nexport function clearGallery() {\n    const ulElem = document.querySelector(\".gallery\");\n    if (ulElem) {\n        ulElem.innerHTML = \"\";\n    }\n}\n\nexport function showLoader() {\n    const loader = document.querySelector('.js-loader');\n    loader.classList.add(\"loader\");\n    console.log(loader);\n}\n\nexport function hideLoader() {\n    const loader = document.querySelector('.js-loader');\n    loader.classList.remove(\"loader\");\n}\n\nexport function showLoadButton() {\n    const LoadButton = document.querySelector(\".load-button\");\n    LoadButton.style = \"display: block\";\n}\n\nexport function hideLoadButton() {\n    const LoadButton = document.querySelector(\".load-button\");\n    LoadButton.style = \"display: none\";\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\n\nimport { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport { clearGallery, showLoader, hideLoader, createGallery, showLoadButton, hideLoadButton } from \"./js/render-functions.js\";\n\nlet page = 1;\nlet query;\nconst form = document.querySelector(\".form\");\nform.addEventListener('submit', (e) => {\n    page = 1;\n    e.preventDefault();\n    hideLoadButton();\n    clearGallery();\n    if (document.querySelector(\"input\").value.trim() === \"\") {\n        return;\n    }\n    query = document.querySelector(\"input\").value.trim();\n    showLoader();\n    getImagesByQuery(query, page).then(data => {\n        if (data.hits.length === 0) {\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n            });\n            return; \n        }\n\n        createGallery(data.hits);\n        showLoadButton();\n    })\n    .catch((error) => { \n        console.error(error);\n    })\n    .finally(() => {\n        hideLoader();\n        form.reset();\n    });\n})\n\nconst loadButton = document.querySelector(\".load-button\");\nloadButton.addEventListener(\"click\", (e) => {\n    e.preventDefault();\n    page += 1;\n    hideLoadButton();\n    showLoader();\n    getImagesByQuery(query, page).then(data => {\n        if (data.hits.length === 0) {\n            iziToast.error({\n                message: \"We're sorry, but you've reached the end of search results.\",\n                position: 'topRight',\n            });\n            return;\n        }\n        createGallery(data.hits);\n        showLoadButton();\n    })\n    .catch((error) => { \n        console.error(error);\n    })\n    .finally(() => {\n        hideLoader();\n        const card = document.querySelector(\".gallery-item\");\n        const cardHeight = card.getBoundingClientRect().height;\n        window.scrollBy({\n            top: cardHeight * 3.6,\n            behavior: \"smooth\",  \n        });\n    });\n});\n\n\n\n\n\n\n\n\n"],"names":["getImagesByQuery","query","page","baseURL","axios","galleryLightbox","createGallery","images","ulElem","markup","image","SimpleLightbox","clearGallery","showLoader","loader","hideLoader","showLoadButton","LoadButton","hideLoadButton","form","data","iziToast","error","loadButton","cardHeight"],"mappings":"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"}