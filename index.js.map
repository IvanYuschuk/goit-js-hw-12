{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n\nimport axios from 'axios';\n\n\n\n\n\nexport function getImagesByQuery(query) {\n    const baseURL = \"https://pixabay.com/api/\";\n\n    return axios.get(baseURL, {\n        params: {\n            key: \"53364117-23ce706026567dc1d7b8b2eb2\",\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n        },\n        timeout: 3000,\n    }).then(response => {\n        return response.data; \n    });\n}\n\n\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet galleryLightbox;\n\nexport function createGallery(images) {\n    const ulElem = document.querySelector(\"ul.gallery\");\n    const markup = images.map((image) => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${image.webformatURL}\"\n                    data-source=\"${image.largeImageURL}\"\n                    alt=\"${image.tags}\"\n                />\n            </a>\n            <ul class=\"image-info\">\n                <li class=\"image-info-item\">\n                    <p class=\"info-p\">Likes</p>\n                    <span class=\"info-span\">${image.likes}</span>\n                </li>\n                <li class=\"image-info-item\">\n                    <p class=\"info-p\">Views</p>\n                    <span class=\"info-span\">${image.views}</span>\n                </li>\n                <li class=\"image-info-item\">\n                    <p class=\"info-p\">Comments</p>\n                    <span class=\"info-span\">${image.comments}</span>\n                </li>\n                <li class=\"image-info-item\">\n                    <p class=\"info-p\">Downloads</p>\n                    <span class=\"info-span\">${image.downloads}</span>\n                </li>\n            </ul>\n        </li>`\n    ).join(''); \n    ulElem.insertAdjacentHTML('beforeend', markup);\n\n    if (!galleryLightbox) {\n        galleryLightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt', \n            captionDelay: 250,  \n        });\n    } else {\n        galleryLightbox.refresh();\n    }\n}\n\nexport function clearGallery() {\n    const ulElem = document.querySelector(\".gallery\");\n    if (ulElem) {\n        ulElem.innerHTML = \"\";\n    }\n}\n\nexport function showLoader() {\n    const loader = document.querySelector('.js-loader');\n    loader.classList.add(\"loader\");\n    console.log(loader);\n}\n\nexport function hideLoader() {\n    const loader = document.querySelector('.js-loader');\n    loader.classList.remove(\"loader\");\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\n\nimport { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport { clearGallery, showLoader, hideLoader, createGallery } from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\".form\");\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n    clearGallery();\n    if (document.querySelector(\"input\").value.trim() === \"\") {\n        return;\n    }\n    const query = document.querySelector(\"input\").value.trim();\n    showLoader();\n    getImagesByQuery(query).then(data => {\n        if (data.hits.length === 0) {\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n            });\n            return; \n        }\n\n        createGallery(data.hits);\n    })\n    .catch((error) => { \n        console.error(error);\n    })\n    .finally(() => {\n        hideLoader();\n        form.reset();\n    });\n\n})\n\n\n\n\n\n\n\n\n"],"names":["getImagesByQuery","query","axios","response","galleryLightbox","createGallery","images","ulElem","markup","image","SimpleLightbox","clearGallery","showLoader","loader","hideLoader","form","e","data","iziToast","error"],"mappings":"owBAQO,SAASA,EAAiBC,EAAO,CAGpC,OAAOC,EAAM,IAFG,2BAEU,CACtB,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,EACD,QAAS,GACjB,CAAK,EAAE,KAAKE,GACGA,EAAS,IACnB,CACL,CCpBA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAASF,EAAO,IAAKG,GAAU;AAAA;AAAA,4CAEGA,EAAM,aAAa;AAAA;AAAA;AAAA,2BAGpCA,EAAM,YAAY;AAAA,mCACVA,EAAM,aAAa;AAAA,2BAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAMSA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,8CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,8CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,8CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,cAI7D,EAAM,KAAK,EAAE,EACTF,EAAO,mBAAmB,YAAaC,CAAM,EAExCJ,EAMDA,EAAgB,QAAO,EALvBA,EAAkB,IAAIM,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GAC1B,CAAS,CAIT,CAEO,SAASC,GAAe,CAC3B,MAAMJ,EAAS,SAAS,cAAc,UAAU,EAC5CA,IACAA,EAAO,UAAY,GAE3B,CAEO,SAASK,GAAa,CACzB,MAAMC,EAAS,SAAS,cAAc,YAAY,EAClDA,EAAO,UAAU,IAAI,QAAQ,EAC7B,QAAQ,IAAIA,CAAM,CACtB,CAEO,SAASC,GAAa,CACV,SAAS,cAAc,YAAY,EAC3C,UAAU,OAAO,QAAQ,CACpC,CCxDA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAWC,GAAM,CAGnC,GAFAA,EAAE,eAAc,EAChBL,IACI,SAAS,cAAc,OAAO,EAAE,MAAM,KAAM,IAAK,GACjD,OAEJ,MAAMV,EAAQ,SAAS,cAAc,OAAO,EAAE,MAAM,OACpDW,IACAZ,EAAiBC,CAAK,EAAE,KAAKgB,GAAQ,CACjC,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC1B,CAAa,EACD,MACH,CAEDb,EAAcY,EAAK,IAAI,CAC/B,CAAK,EACA,MAAOE,GAAU,CACd,QAAQ,MAAMA,CAAK,CAC3B,CAAK,EACA,QAAQ,IAAM,CACXL,IACAC,EAAK,MAAK,CAClB,CAAK,CAEL,CAAC"}